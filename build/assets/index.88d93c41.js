import{_ as w}from"./index.08c554b6.js";import{d as x,s as _,y as u,o as P,r as h,i as C}from"./router.33be5d89.js";import{e as y}from"./query-assigned-elements.b2565831.js";import{g as R,c as k}from"./index.dd84ea55.js";import{l as j}from"./localized-decorator.526aa812.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function S(e){return y({...e,state:!0})}function I(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var g={exports:{}};function b(e,a,n,t,r,o,s){try{var i=e[o](s),l=i.value}catch(p){n(p);return}i.done?a(l):Promise.resolve(l).then(t,r)}function O(e){return function(){var a=this,n=arguments;return new Promise(function(t,r){var o=e.apply(a,n);function s(l){b(o,t,r,s,i,"next",l)}function i(l){b(o,t,r,s,i,"throw",l)}s(void 0)})}}function $(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function v(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function z(e,a,n){return a&&v(e.prototype,a),n&&v(e,n),e}const D=typeof I>"u",E=window.fetch;let f=function(){function e(a,n){$(this,e),this.id=a,this.sheetName=n}return z(e,[{key:"getSpreadsheetDataUsingFetch",value:function(){if(!this.id)return null;let n=`https://docs.google.com/spreadsheets/d/${this.id}/gviz/tq?`;return this.sheetName&&(n=n.concat(`sheet=${this.sheetName}`)),E(n).then(t=>t&&t.ok&&t.text?t.text():null).catch(t=>null)}},{key:"normalizeRow",value:function(n){return n.map(t=>t&&t.v!==null&&t.v!==void 0?t:{})}},{key:"applyHeaderIntoRows",value:function(n,t){return t.map(({c:r})=>this.normalizeRow(r)).map(r=>r.reduce((o,s,i)=>s.v?Object.assign(o,{[n[i]]:s.v}):o,{}))}},{key:"getItems",value:function(n){let t=[];try{const r=JSON.parse(n.split(`
`)[1].replace(/google.visualization.Query.setResponse\(|\);/g,""));if(r.table.cols.some(({label:s})=>!!s)){const s=r.table.cols.map(({label:i})=>i);t=this.applyHeaderIntoRows(s,r.table.rows)}else{const[s,...i]=r.table.rows,l=this.normalizeRow(s.c).map(p=>p.v);t=this.applyHeaderIntoRows(l,i)}}catch{}return t}},{key:"parse",value:function(){var a=O(function*(t,r){if(t&&(this.id=t),r&&(this.sheetName=r),!this.id)throw new Error("SpreadsheetId is required.");const o=yield this.getSpreadsheetDataUsingFetch();return o===null?[]:this.getItems(o)});function n(t,r){return a.apply(this,arguments)}return n}()}]),e}();D?window.PublicGoogleSheetsParser=f:(g.exports=f,g.exports.default=f);const G="1aj7yB3noTP8Y2pmHC4OuIj1Z-nY-0EoSAnNbMIF4kPo",q=new g.exports;async function H(e){return(await q.parse(G,L(e))).map(n=>{const t=n[m("text")],r=t?t.split(`
`):[],o=[];for(let s=0;s<r.length;s++){if(!r[s].startsWith("*")){o.push(r[s]);continue}(o.length==0||typeof o[o.length-1]=="string")&&o.push([]),o[o.length-1].push(r[s].substring(2))}return{title:n[m("title")],paragraphs:o,link:n["link-url"]?{label:n[m("link")],url:n["link-url"]}:void 0}})}function m(e){return`${e} [${R().toUpperCase()}]`}function L(e){return e.charAt(0).toUpperCase()+e.substring(1)}const N=`@media screen and (max-width: 1439px){.desktop-only{display:none!important}}.small-only{display:none!important}@media screen and (max-width: 1023px){.small-only{display:flex!important}}@media screen and (max-width: 1023px){.hide-on-small{display:none!important}}.top{box-sizing:content-box}@media screen and (max-width: 1023px){.top{border:2px var(--dark-color) solid}}.header{height:62px;position:relative;background-size:cover}.header>h4{align-self:center}.cards>*{border-top:solid 2px var(--dark-color)}
`,T="/assets/jobs.db72b5f2.png",F="/assets/projects.5db2991c.png",U="/assets/education.6c3a1f45.png";var A=Object.defineProperty,B=Object.getOwnPropertyDescriptor,d=(e,a,n,t)=>{for(var r=t>1?void 0:t?B(a,n):a,o=e.length-1,s;o>=0;o--)(s=e[o])&&(r=(t?s(a,n,r):s(r))||r);return t&&r&&A(a,n,r),r};w(()=>import("./activity-card.2a3c075f.js"),["assets/activity-card.2a3c075f.js","assets/router.33be5d89.js","assets/index.08c554b6.js","assets/query-assigned-elements.b2565831.js","assets/index.dd84ea55.js","assets/index.d82a4810.css"]).then(e=>e.default());w(()=>import("./badge-card.61ba1cd0.js"),["assets/badge-card.61ba1cd0.js","assets/router.33be5d89.js","assets/index.08c554b6.js","assets/query-assigned-elements.b2565831.js","assets/index.dd84ea55.js","assets/index.d82a4810.css"]).then(e=>e.default());const J={jobs:T,projects:F,education:U},Z=()=>x("cards-column",c);let c=class extends _{constructor(){super(...arguments),this.cards=[]}render(){return u`
			<div class="flex col full-width top">
				<div class="header flex pad-24 header-bg-${this.id}">
					<h4>${this.header}</h4>
				</div>
				<div class="flex col full-width cards">
					${this.cards.map(e=>e.link||e.paragraphs?u`
						<activity-card .content=${e} .isProject=${this.id==="projects"}></activity-card>
					`:u`
						<badge-card .content=${e}></badge-card>
					`)}
				</div>
			</div>
		`}connectedCallback(){super.connectedCallback(),this.updateContent(),P(()=>this.updateContent())}updateContent(){H(this.id).then(e=>{this.cards=e})}static get styles(){return[...k,h(N),Object.entries(J).map(e=>C`
				.header-bg-${h(e[0])} {
					background-image: url(${h(e[1])});
				}
			`)]}};d([y()],c.prototype,"id",2);d([y()],c.prototype,"header",2);d([S()],c.prototype,"cards",2);c=d([j()],c);export{c as CardsColumn,Z as default};
